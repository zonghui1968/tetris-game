# 🎮 俄罗斯方块 (Tetris Game)

一个经典的俄罗斯方块游戏，使用纯 JavaScript 实现，无需任何框架依赖。

![Tetris](https://img.shields.io/badge/version-1.0.0-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

## ✨ 特性

- 🎯 经典俄罗斯方块玩法
- 🎨 现代化美观界面
- 📱 移动端完全支持
- 💾 本地最高分记录
- ⚡ 流畅的动画效果
- 🏆 等级系统
- 📊 实时统计

## 🎮 游戏玩法

### 目标
通过移动和旋转下落的方块，填满整行来消除并获得分数。

### 控制方式

**桌面端:**
- `←` `→` : 左右移动方块
- `↑` : 旋转方块
- `↓` : 加速下落
- `SPACE` : 暂停/继续游戏

**移动端:**
- 使用屏幕下方的虚拟按钮控制

### 游戏规则

1. **方块类型**：7 种经典俄罗斯方块（I, O, T, S, Z, J, L）
2. **消除行数**：填满一行即可消除
3. **多行消除**：一次消除多行获得额外分数奖励
4. **等级提升**：每消除 10 行升一级，速度加快
5. **游戏结束**：当方块堆到顶部时游戏结束

### 计分规则

| 消除行数 | 分数 |
|---------|------|
| 1 行     | 100 分 × 等级 |
| 2 行     | 300 分 × 等级 |
| 3 行     | 500 分 × 等级 |
| 4 行     | 800 分 × 等级 |

## 🚀 快速开始

### 方法 1: 直接打开（最简单）

1. 克隆或下载项目
2. 用浏览器打开 `public/index.html`
3. 开始游戏！

### 方法 2: 使用本地服务器

```bash
# 安装依赖（可选）
npm install

# 启动服务器
npm run serve

# 在浏览器中打开
# http://localhost:8080
```

### 方法 3: 使用其他静态文件服务器

```bash
# 使用 Python
python -m http.server 8080

# 使用 PHP
php -S localhost:8080

# 使用 Node.js http-server
npx http-server -p 8080
```

## 📁 项目结构

```
tetris-game/
├── public/
│   ├── index.html    # 游戏界面
│   ├── styles.css    # 样式文件
│   └── tetris.js     # 游戏逻辑
├── package.json
└── README.md
```

## 🎯 核心功能实现

### 1. 方块系统
- 7 种标准俄罗斯方块
- 每种方块有独特颜色
- 方块旋转算法
- 碰撞检测

### 2. 游戏循环
- 基于 requestAnimationFrame 的流畅动画
- 可调节的下落速度
- 暂停/继续功能

### 3. 行消除
- 实时检测完整行
- 多行同时消除
- 平滑的消除动画

### 4. 计分系统
- 基于消除行数的分数
- 等级加成
- 本地最高分存储（localStorage）

### 5. 等级系统
- 每消除 10 行升一级
- 速度随等级增加
- 最高等级无限制

## 🎨 技术特点

### 前端技术
- **HTML5 Canvas**: 渲染游戏画面
- **CSS3**: 现代化 UI 设计
- **原生 JavaScript**: 无框架依赖，性能优化

### 核心算法
- **矩阵旋转**: 高效的方块旋转
- **碰撞检测**: 精确的边界检测
- **行消除**: O(n) 复杂度的消除算法

### 性能优化
- 使用 Canvas 而非 DOM 操作
- requestAnimationFrame 保证流畅度
- 最小化重绘区域

## 📱 响应式设计

游戏完全支持各种设备：

- 💻 **桌面端** (1024px+): 完整体验
- 📱 **平板** (768px-1023px): 适配布局
- 📱 **手机** (<768px): 移动端控制按钮

## 🔧 自定义配置

可以在 `tetris.js` 中调整游戏参数：

```javascript
// 游戏区域大小
this.COLS = 10;  // 列数
this.ROWS = 20;  // 行数
this.BLOCK_SIZE = 30;  // 方块大小

// 初始速度
this.dropInterval = 1000;  // 毫秒

// 升级阈值
const LEVEL_UP_LINES = 10;
```

## 🎓 学习价值

本项目展示了以下编程概念：

- **游戏循环设计**
- **碰撞检测算法**
- **矩阵操作**
- **Canvas 渲染**
- **事件处理**
- **状态管理**
- **本地存储**
- **响应式设计**

## 🐛 已知问题

- 在某些移动设备上触摸延迟
- 低端设备上可能性能不足
- Safari 旧版本 Canvas 兼容性问题

## 🚀 未来改进

- [ ] 添加音效和背景音乐
- [ ] 实现方块预览路径
- [ ] 添加困难模式
- [ ] 实现排行榜功能
- [ ] 添加成就系统
- [ ] 支持自定义皮肤
- [ ] 实现多人对战模式
- [ ] 添加方块持有功能

## 📝 开发说明

### 代码结构

**TetrisGame 类**:
- `init()`: 初始化游戏
- `gameLoop()`: 主游戏循环
- `draw()`: 渲染画面
- `moveLeft/Right/Down()`: 移动控制
- `rotate()`: 旋转方块
- `checkCollision()`: 碰撞检测
- `clearLines()`: 行消除
- `addScore()`: 计分

### 扩展建议

**添加新方块类型**:
```javascript
this.shapes = {
    // ... 现有方块
    'CUSTOM': [[1,1,1], [0,1,0], [0,1,0]] // 添加自定义形状
};
```

**修改颜色方案**:
```javascript
this.colors = {
    'I': '#00f0f0',
    // 自定义颜色
};
```

## 📄 许可证

MIT License - 自由使用、修改和分发

## 🙏 致谢

- 经典 Tetris 游戏设计
- HTML5 Canvas 技术
- JavaScript 社区

---

**版本**: 1.0.0  
**开发日期**: 2026-02-10  
**总代码行数**: ~400 行  
**依赖**: 0 (纯原生实现)

🎮 **享受游戏吧！**

---

## 💡 提示

- 按空格键快速开始游戏
- 观察下一个方块预览来规划移动
- 尽量一次消除多行获得高分
- 保持游戏区域底部平整，避免产生空洞
- 在低等级时练习，高等级时挑战高分
